# 구현 계획

> **English Version**: See [../tasks.md](../tasks.md)

이 문서는 AI 어시스턴트 개선사항의 구현 작업 목록입니다. 각 작업은 요구사항을 참조하며 코딩 활동에만 초점을 맞춥니다.

## 완료된 작업

### ✅ 1. 날짜 인식 AI 컨텍스트 구현
- KST 날짜 계산 및 시스템 프롬프트 주입
- 날짜 인식 지침으로 시스템 프롬프트 파일 업데이트

### ✅ 2. 내용 기반 todo 업데이트 구현
- 제목으로 todo 검색을 위한 `findTodoByContent()` 메서드 생성
- ID 기반 및 내용 기반 업데이트를 모두 지원하도록 `updateTodo()` 개선
- `todoContentToFind` 매개변수를 포함하도록 updateTodo 도구 정의 업데이트

### ✅ 3. 쓰기 작업 후 사전 목록 새로고침 구현
- 자동으로 새로고침된 todo 목록을 가져와 반환하도록 `createTodo()` 개선
- 자동으로 새로고침된 todo 목록을 가져와 반환하도록 `updateTodo()` 개선
- AI가 새로고침된 목록을 표시하도록 시스템 프롬프트 업데이트

### ✅ 4. 세션 기반 보안 확인 및 시행
- userSeq가 세션에서 오는지 확인하기 위해 모든 함수 메서드 감사
- 도구 정의에 userSeq 매개변수가 포함되지 않았는지 확인
- TodoService 메서드가 userSeq로 필터링하는지 확인

### ✅ 5. 데이터베이스 감사 컬럼 채우기 수정
- reg_id, upd_id 및 upd_ip가 생성 및 업데이트 작업 시 올바르게 채워지도록 보장
- ChatController를 통해 AssistanceService에서 TodoService로 userId 전달
- 생성 시 upd_* 컬럼을 초기화하도록 setAuditColumn 유틸리티 업데이트

### ✅ 6. AI 작업 후 프론트엔드 자동 새로고침 구현
- Zustand chatStore에 새로고침 트리거 추가
- 새로고침 이벤트를 수신하도록 TodoContainer 업데이트
- 성공적인 AI 채팅 응답 시 새로고침 트리거

### ✅ 7. 통합 테스트 및 검증
- 여섯 가지 개선사항이 함께 작동하는지 테스트
- 기존 AI 어시스턴트 기능에 회귀가 없는지 확인

### ✅ 8. 새 채팅 세션을 위한 자동 환영 메시지 구현
- 채팅 세션 초기화 시 환영 메시지 주입
- 사용 예제가 포함된 미리 정의된 한국어 안내 메시지 표시
- 채팅 기록에 메시지 지속
- 채팅에 이미 메시지가 있으면 메시지 억제

## 대기 중인 테스트 (선택 사항)

모든 구현된 기능에 대한 수동 테스트가 필요합니다:
- 날짜 인식 기능
- 내용 기반 업데이트
- 사전 새로고침
- 보안 시행
- 감사 컬럼 검증
- 프론트엔드 자동 새로고침
- 환영 메시지 기능

자세한 테스트 시나리오는 `TESTING_GUIDE.md`를 참조하세요.

## 구현 상태 요약

### 완료된 기능 (✅)
1. KST 시간대 지원을 통한 날짜 인식 AI 컨텍스트
2. 내용 기반 todo 업데이트 (제목으로 검색)
3. 쓰기 작업 후 사전 목록 새로고침
4. 세션 기반 보안 시행 (확인됨)
5. 데이터베이스 작업에 대한 완전한 감사 추적
6. AI 작업 후 프론트엔드 자동 새로고침
7. 새 채팅 세션을 위한 자동 환영 메시지

### 대기 중인 테스트 (⏳)
- 구현된 모든 기능의 수동 테스트
- 엔드투엔드 통합 테스트
- 브라우저 호환성 테스트
- 성능 및 보안 테스트

### 문서화 (📚)
- 모든 기능에 대한 구현 가이드 작성
- 테스트 가이드 사용 가능
- 배포 체크리스트 준비
- 한국어 번역 완료

## 다음 단계

스펙이 완료되었습니다. 구현을 시작하려면:

1. `tasks.md` 파일을 열어 작업 목록 확인
2. 각 작업 옆의 "Start task" 클릭하여 구현 시작
3. 테스트 가이드를 따라 각 기능 검증
4. 배포 체크리스트를 사용하여 프로덕션 배포

자세한 내용은 영문 작업 문서를 참조하세요.
