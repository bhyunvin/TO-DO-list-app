# 구현 계획

- [x] 1. 백엔드 프로필 업데이트 인프라 생성
  - 프로필 업데이트 필드에 대한 유효성 검사 규칙으로 UpdateUserDto 클래스 생성
  - 현재 사용자를 제외하는 이메일 고유성 유효성 검사 구현
  - _요구사항: 4.1, 4.4_

- [x] 1.1 프로필 업데이트 엔드포인트로 UserController 확장
  - 인증 가드로 PATCH /user/profile 엔드포인트 추가
  - 프로필 이미지 업데이트를 위한 파일 업로드 처리 구현
  - 적절한 오류 처리 및 응답 형식 지정 추가
  - _요구사항: 1.3, 2.4, 4.2_

- [x] 1.2 프로필 업데이트 로직으로 UserService 확장
  - 트랜잭션 관리로 updateProfile 메서드 구현
  - 현재 사용자를 제외하는 이메일 고유성 확인 추가
  - 기존 파일 유효성 검사 시스템과 프로필 이미지 업로드 통합
  - 성공적인 프로필 업데이트 후 사용자 세션 데이터 업데이트
  - _요구사항: 1.3, 2.4, 4.1, 4.4_

- [x] 1.3 프로필 업데이트 백엔드 로직에 대한 단위 테스트 작성
  - 다양한 입력 시나리오로 UserService.updateProfile 테스트
  - 이메일 고유성 유효성 검사 로직 테스트
  - 프로필 이미지 업로드 유효성 검사 및 오류 처리 테스트
  - _요구사항: 4.1, 4.4_

- [x] 2. ProfileUpdateForm React 컴포넌트 생성
  - 이름, 이메일, 설명을 위한 양식 필드로 새 ProfileUpdateForm 컴포넌트 생성
  - 양식 상태 관리 및 유효성 검사 구현
  - 미리보기로 프로필 이미지 업로드 기능 추가
  - 파일 업로드 진행 추적 및 오류 처리 통합
  - _요구사항: 1.1, 2.1, 2.2, 2.3_

- [x] 2.1 양식 유효성 검사 및 오류 처리 구현
  - 이메일 형식 및 필수 필드에 대한 실시간 유효성 검사 추가
  - 기존 훅을 사용하여 프로필 이미지 파일 유효성 검사 구현
  - 오류 상태 관리 및 사용자 피드백 표시 추가
  - _요구사항: 1.4, 2.3, 4.5_

- [x] 2.2 양식 제출 및 API 통합 추가
  - 파일 업로드를 위한 FormData로 양식 제출 구현
  - 제출 중 로딩 상태 및 진행 표시 추가
  - 적절한 사용자 피드백으로 API 응답 및 오류 시나리오 처리
  - _요구사항: 1.3, 1.5, 2.4_

- [x] 2.3 ProfileUpdateForm 컴포넌트에 대한 단위 테스트 작성
  - 양식 유효성 검사 로직 및 오류 표시 테스트
  - 파일 업로드 기능 및 진행 추적 테스트
  - 양식 제출 및 API 통합 시나리오 테스트
  - _요구사항: 1.1, 2.1, 2.2_

- [x] 3. TodoList 인터페이스에 프로필 업데이트 통합
  - 환영 메시지와 로그아웃 버튼 사이의 TodoList 헤더에 "프로필 업데이트" 버튼 추가
  - 프로필 업데이트 모드를 위한 상태 관리 구현
  - 업데이트 시 ProfileUpdateForm을 표시하도록 조건부 렌더링 추가
  - _요구사항: 3.1, 3.2, 3.3_

- [x] 3.1 TodoContainer에 프로필 업데이트 핸들러 구현
  - 프로필 업데이트를 처리하기 위한 handleUpdateProfile 함수 추가
  - todo 목록 보기로 돌아가기 위한 handleCancelProfileUpdate 구현
  - 성공적인 프로필 업데이트 후 사용자 세션 상태 업데이트
  - _요구사항: 1.3, 3.4_

- [x] 3.2 프로필 업데이트 탐색 및 UI 흐름 추가
  - 프로필 업데이트 양식이 활성화되면 todo 목록 및 탐색 요소 숨기기
  - 기존 애플리케이션 디자인과 일관된 스타일 유지
  - 프로필 업데이트 중 적절한 로딩 상태 및 사용자 피드백 추가
  - _요구사항: 3.3, 3.4, 3.5_

- [x] 3.3 프로필 업데이트 흐름에 대한 통합 테스트 작성
  - TodoList에서 양식 제출까지 완전한 프로필 업데이트 흐름 테스트
  - todo 목록과 프로필 업데이트 보기 간 탐색 테스트
  - 오류 처리 및 사용자 피드백 시나리오 테스트
  - _요구사항: 3.1, 3.2, 3.3_

- [x] 4. 포괄적인 오류 처리 및 유효성 검사 구현
  - 모든 프로필 업데이트 필드에 대한 서버 측 유효성 검사 추가
  - 적절한 오류 메시지로 중복 이메일 감지 구현
  - 자세한 피드백으로 파일 업로드 오류 처리 추가
  - _요구사항: 1.4, 4.1, 4.4, 4.5_

- [x] 4.1 보안 및 인증 유효성 검사 추가
  - 프로필 업데이트 엔드포인트에 유효한 세션 인증 필요 보장
  - 다른 사용자의 프로필 업데이트를 방지하기 위한 사용자 권한 부여 구현
  - 보안 취약점을 방지하기 위한 입력 새니타이제이션 추가
  - _요구사항: 4.2, 4.5_

- [x] 4.2 프로필 업데이트 보안에 대한 엔드투엔드 테스트 작성
  - 프로필 업데이트 작업에 대한 인증 요구 사항 테스트
  - 무단 프로필 수정을 방지하기 위한 권한 부여 테스트
  - 입력 유효성 검사 및 새니타이제이션 효과 테스트
  - _요구사항: 4.1, 4.2, 4.5_
